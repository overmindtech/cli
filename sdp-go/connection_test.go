package sdp

import (
	"context"
	"testing"
)

// This is an example of a Query with a timeout. This attribute was removed and
// replaced with a `reserved` field. Therefore it is being used to test how we
// handle older messages
var exampleRemovedAttribute = []byte{
	0xa, 0x3, 0x66, 0x6f, 0x6f, 0x1a, 0x3, 0x66, 0x6f, 0x6f, 0x22, 0x4, 0x8,
	0xa, 0x10, 0x1, 0x2a, 0x3, 0x66, 0x6f, 0x6f, 0x30, 0x1, 0x3a, 0x10, 0x4e,
	0x43, 0x68, 0xd9, 0x17, 0xd4, 0x4d, 0x83, 0xa9, 0xe6, 0xf5, 0x3a, 0xec,
	0xc7, 0xe7, 0xf0, 0x42, 0x2, 0x8, 0xa,
}

func TestUnmarshal(t *testing.T) {
	ctx := context.Background()
	query := new(Query)

	err := Unmarshal(ctx, exampleRemovedAttribute, query)

	if err != nil {
		t.Error(err)
	}
}
